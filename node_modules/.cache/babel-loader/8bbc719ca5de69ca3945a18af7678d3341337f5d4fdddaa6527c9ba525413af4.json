{"ast":null,"code":"import _defineProperty from\"C:/Users/USER/Desktop/CodingProj/shopingList/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/USER/Desktop/CodingProj/shopingList/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/USER/Desktop/CodingProj/shopingList/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import Row from'../Layouts/Row';import Column from'../Layouts/Column';import Card from'../Layouts/CardLayout/Card';import FormGroup from'../Layouts/FormGroup';import InputList from'../Layouts/InputList';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Additem(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setimage=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),previewImage=_useState4[0],setPreviewImage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setmessage=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),categories=_useState8[0],Setcatergories=_useState8[1];var _useState9=useState({item_id:0,item_name:\"\",category:\"\",price:0,image:\"\"}),_useState10=_slicedToArray(_useState9,2),item=_useState10[0],setitem=_useState10[1];useEffect(function(){Items();},[]);var Items=function Items(){axios.get('http://localhost:3000/items/Items').then(function(res){Setcatergories(res.data.items);console.log(res.data);});};var AddItem=function AddItem(){var formData=new FormData();formData.append('image',image);formData.append('item',JSON.stringify(item));axios.post('http://localhost:3000/items/AddItem',formData).then(function(res){if(res.data.status==500){setmessage(res.data.Message);}else{setmessage(res.data.Message);setTimeout(function(){_ResetButton();},3000);}});console.log(item);};var _ResetButton=function ResetButton(){window.location.reload();};var HandleInputsFile=function HandleInputsFile(e){var imageinput=e.target.files;console.log(imageinput===null||imageinput===void 0?void 0:imageinput[0]);setimage(imageinput===null||imageinput===void 0?void 0:imageinput[0]);setPreviewImage(URL.createObjectURL(imageinput===null||imageinput===void 0?void 0:imageinput[0]));};var HandleInputs=function HandleInputs(e){var inputs=e.target;setitem(_objectSpread(_objectSpread({},item),{},_defineProperty({},inputs.name,inputs.value)));};return/*#__PURE__*/_jsx(Row,{ClassName:\"\",children:/*#__PURE__*/_jsx(Column,{column:\"\",children:/*#__PURE__*/_jsxs(Card,{headerText:\"Add item/Edit Item\",ResetButton:function ResetButton(){return _ResetButton();},successButton:function successButton(){return AddItem();},footerText:message,btnSuccessValue:\"Save\",children:[/*#__PURE__*/_jsx(FormGroup,{inputname:\"item_name\",label:\"item_name\",type:\"text\",onchange:HandleInputs,placeholder:\"Enter Item name\",value:item.item_name}),/*#__PURE__*/_jsx(InputList,{categoryList:categories,inputname:\"category\",label:\"category\",onchange:HandleInputs,value:item.category,type:\"text\"}),/*#__PURE__*/_jsx(FormGroup,{inputname:\"price\",label:\"price\",type:\"number\",onchange:HandleInputs,placeholder:\"Enter Pirce\",value:item.price}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:'image',children:'image'}),/*#__PURE__*/_jsx(\"input\",{type:'file',className:\"form-control\",name:'image',onChange:HandleInputsFile})]}),/*#__PURE__*/_jsx(\"img\",{src:previewImage})]})})});}","map":{"version":3,"names":["useEffect","useState","Row","Column","Card","FormGroup","InputList","axios","jsx","_jsx","jsxs","_jsxs","Additem","_useState","_useState2","_slicedToArray","image","setimage","_useState3","_useState4","previewImage","setPreviewImage","_useState5","_useState6","message","setmessage","_useState7","_useState8","categories","Setcatergories","_useState9","item_id","item_name","category","price","_useState10","item","setitem","Items","get","then","res","data","items","console","log","AddItem","formData","FormData","append","JSON","stringify","post","status","Message","setTimeout","ResetButton","window","location","reload","HandleInputsFile","e","imageinput","target","files","URL","createObjectURL","HandleInputs","inputs","_objectSpread","_defineProperty","name","value","ClassName","children","column","headerText","successButton","footerText","btnSuccessValue","inputname","label","type","onchange","placeholder","categoryList","className","htmlFor","onChange","src"],"sources":["C:/Users/USER/Desktop/CodingProj/shopingList/client/src/AddItem/Additem.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport Row from '../Layouts/Row';\r\nimport Column from '../Layouts/Column';\r\nimport Card from '../Layouts/CardLayout/Card';\r\nimport FormGroup from '../Layouts/FormGroup';\r\nimport InputList from '../Layouts/InputList';\r\nimport axios from 'axios';\r\n\r\n\r\n\r\nexport interface item {\r\n  item_name: string,\r\n  category: string,\r\n  price: number,\r\n  image: string\r\n  item_id: number\r\n}\r\n\r\nexport default function Additem() {\r\n  const [image, setimage] = useState<any>()\r\n  const [previewImage, setPreviewImage] = useState<string>(\"\");\r\n  const [message, setmessage] = useState(\"\")\r\n  const [categories, Setcatergories] = useState<item[]>([])\r\n  const [item, setitem] = useState<item>({\r\n    item_id: 0,\r\n    item_name: \"\",\r\n    category: \"\",\r\n    price: 0,\r\n    image: \"\"\r\n  })\r\n\r\n\r\n\r\n  useEffect(() => {\r\n\r\n\r\n    Items()\r\n\r\n  }, [])\r\n\r\n  const Items = () => {\r\n\r\n\r\n    axios.get('http://localhost:3000/items/Items')\r\n      .then(res => {\r\n\r\n\r\n        Setcatergories(res.data.items)\r\n        console.log(res.data)\r\n      })\r\n\r\n\r\n  }\r\n\r\n\r\n  const AddItem = () => {\r\n\r\n    const formData = new FormData()\r\n    formData.append('image', image)\r\n    formData.append('item', JSON.stringify(item))\r\n\r\n\r\n    axios.post('http://localhost:3000/items/AddItem', formData)\r\n      .then(res => {\r\n\r\n        if (res.data.status == 500) {\r\n\r\n          setmessage(res.data.Message)\r\n        } else {\r\n\r\n          setmessage(res.data.Message)\r\n\r\n          setTimeout(() => {\r\n\r\n\r\n            ResetButton()\r\n\r\n\r\n\r\n\r\n          }, 3000);\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n      })\r\n\r\n    console.log(item)\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n  const ResetButton = () => {\r\n\r\nwindow.location.reload()\r\n\r\n  }\r\n  const HandleInputsFile= (e: React.ChangeEvent<HTMLInputElement>) => {\r\n  \r\n    const imageinput = e.target.files as FileList;\r\n\r\n\r\n    console.log(imageinput?.[0])\r\n    setimage(imageinput?.[0])\r\n    setPreviewImage(URL.createObjectURL(imageinput?.[0]));\r\n\r\n\r\n  \r\n  }\r\n\r\n\r\n  const HandleInputs = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const inputs = e.target\r\n\r\n    setitem({\r\n\r\n      ...item,\r\n      [inputs.name]: inputs.value\r\n    })\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  return (\r\n\r\n    <Row ClassName=''>\r\n      <Column column=''>\r\n\r\n        <Card\r\n          headerText='Add item/Edit Item'\r\n          ResetButton={() => ResetButton()}\r\n          successButton={() => AddItem()}\r\n          footerText={message}\r\n          btnSuccessValue='Save'>\r\n          <FormGroup inputname='item_name'\r\n            label='item_name' type='text' onchange={HandleInputs}\r\n            placeholder='Enter Item name' value={item.item_name} />\r\n\r\n          <InputList categoryList={categories} inputname='category'\r\n            label=\"category\" onchange={HandleInputs} value={item.category} type='text' />\r\n\r\n          <FormGroup inputname='price'\r\n            label='price' type='number' onchange={HandleInputs}\r\n            placeholder='Enter Pirce' value={item.price} />\r\n\r\n\r\n<div className=\"form-group \">\r\n            <label htmlFor={'image'}>{'image'}</label>\r\n            <input type={'file'} className=\"form-control\"  name={'image'}  onChange={HandleInputsFile} />\r\n\r\n        </div>\r\n\r\n\r\n          <img src={previewImage} />\r\n        </Card>\r\n\r\n      </Column>\r\n\r\n    </Row>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}