{"ast":null,"code":"import _defineProperty from\"C:/Users/USER/Desktop/CodingProj/shopingList/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/USER/Desktop/CodingProj/shopingList/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/USER/Desktop/CodingProj/shopingList/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import Row from'../Layouts/Row';import Column from'../Layouts/Column';import Card from'../Layouts/CardLayout/Card';import FormGroup from'../Layouts/FormGroup';import axios from'axios';import Button from'../Layouts/button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Login(){var _useState=useState(localStorage.getItem('user')),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setuser=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setmessage=_useState4[1];var _useState5=useState({username:\"\",password:\"\"}),_useState6=_slicedToArray(_useState5,2),userInfo=_useState6[0],setUserinfo=_useState6[1];useEffect(function(){console.log(user);},[]);var Login=function Login(){axios.post('http://localhost:3000/users/login',userInfo).then(function(res){console.log(res.data);if(res.data.status==500){setmessage(res.data.Message);}else{setmessage(res.data.Message);localStorage.setItem('user',JSON.stringify(userInfo));setTimeout(function(){_ResetButton();window.location.reload();},3000);}});console.log(userInfo);};var _ResetButton=function ResetButton(){setUserinfo({username:\"\",password:\"\"});};var HandleInputs=function HandleInputs(e){var inputs=e.target;setUserinfo(_objectSpread(_objectSpread({},userInfo),{},_defineProperty({},inputs.name,inputs.value)));//console.log(inputs.value)\n};var Logout=function Logout(){localStorage.removeItem('user');window.location.reload();};return/*#__PURE__*/_jsx(Row,{ClassName:\"\",children:user!==null?/*#__PURE__*/_jsx(Column,{column:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:\"Logout\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(Button,{button:\"btn btn-danger\",onclick:function onclick(){return Logout();},children:\"Logout\"})})]})}):/*#__PURE__*/_jsx(Column,{column:\"\",children:/*#__PURE__*/_jsxs(Card,{headerText:\"Login\",footerText:message,ResetButton:function ResetButton(){return _ResetButton();},successButton:function successButton(){return Login();},btnSuccessValue:\"Login\",children:[/*#__PURE__*/_jsx(FormGroup,{inputname:\"username\",label:\"UserName\",type:\"text\",onchange:HandleInputs,placeholder:\"Enter UserName\",value:userInfo.username}),/*#__PURE__*/_jsx(FormGroup,{inputname:\"password\",label:\"password\",type:\"text\",onchange:HandleInputs,placeholder:\"Enter password\",value:userInfo.password})]})})});}","map":{"version":3,"names":["useEffect","useState","Row","Column","Card","FormGroup","axios","Button","jsx","_jsx","jsxs","_jsxs","Login","_useState","localStorage","getItem","_useState2","_slicedToArray","user","setuser","_useState3","_useState4","message","setmessage","_useState5","username","password","_useState6","userInfo","setUserinfo","console","log","post","then","res","data","status","Message","setItem","JSON","stringify","setTimeout","ResetButton","window","location","reload","HandleInputs","e","inputs","target","_objectSpread","_defineProperty","name","value","Logout","removeItem","ClassName","children","column","className","button","onclick","headerText","footerText","successButton","btnSuccessValue","inputname","label","type","onchange","placeholder"],"sources":["C:/Users/USER/Desktop/CodingProj/shopingList/client/src/Login/Login.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport Row from '../Layouts/Row';\r\nimport Column from '../Layouts/Column';\r\nimport Card from '../Layouts/CardLayout/Card';\r\nimport Input from '../Layouts/Input';\r\nimport FormGroup from '../Layouts/FormGroup';\r\nimport axios from 'axios';\r\nimport Button from '../Layouts/button';\r\n \r\n\r\ninterface user{\r\n  username:string,\r\n  password:string\r\n}\r\n\r\n\r\nexport default function Login(){\r\n\r\n  const [user,setuser]=useState(localStorage.getItem('user'))\r\nconst[message,setmessage]=useState('')\r\n  const [userInfo,setUserinfo]=useState<user>({\r\n    username:\"\",\r\n    password:\"\"\r\n  })\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n\r\nconsole.log(user)\r\n  }, [])\r\n\r\n  const Login=()=>{\r\n\r\n\r\n    axios.post('http://localhost:3000/users/login',userInfo)\r\n    .then(res =>{\r\n\r\n      console.log(res.data)\r\n\r\n      if(res.data.status==500)\r\n      {\r\n\r\n        setmessage(res.data.Message)\r\n\r\n      }else{\r\n\r\n\r\n        setmessage(res.data.Message)\r\n\r\n        localStorage.setItem('user',JSON.stringify(userInfo))\r\n\r\n        setTimeout(()=>{\r\n\r\n          ResetButton()\r\n          window.location.reload()\r\n\r\n        },3000)\r\n\r\n      }\r\n\r\n    \r\n    })\r\n\r\n    console.log(userInfo)\r\n\r\n  }\r\n  const ResetButton=()=>{\r\n\r\n\r\n    setUserinfo({\r\n      username:\"\",\r\n      password:\"\"\r\n    })\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  const HandleInputs = (e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement | HTMLTextAreaElement>) => {\r\n    const inputs = e.target\r\n\r\n\r\n    setUserinfo({\r\n\r\n      ...userInfo,\r\n      [inputs.name]:inputs.value\r\n    })\r\n    //console.log(inputs.value)\r\n\r\n\r\n}\r\n\r\n\r\nconst Logout=()=>{\r\n\r\nlocalStorage.removeItem('user')\r\n\r\nwindow.location.reload()\r\n\r\n\r\n\r\n}\r\n\r\n    return(\r\n\r\n      <Row ClassName=''>\r\n        {\r\n          user!==null?\r\n\r\n<Column column=''>\r\n<div className='card'>\r\n<div className='card-header'>Logout</div>\r\n<div className='card-body'>\r\n  <Button button='btn btn-danger' onclick={()=>Logout()}>Logout</Button>\r\n</div>\r\n</div>\r\n\r\n</Column>\r\n\r\n\r\n          :\r\n<Column column=''>\r\n\r\n<Card\r\nheaderText='Login'\r\nfooterText={message}\r\nResetButton={()=> ResetButton()}\r\n  successButton={()=> Login()}\r\n  btnSuccessValue='Login'>\r\n<FormGroup inputname='username' \r\nlabel='UserName' type='text'  onchange={HandleInputs}\r\nplaceholder='Enter UserName'value={userInfo.username} />\r\n\r\n<FormGroup inputname='password' \r\nlabel='password' type='text' onchange={HandleInputs}\r\nplaceholder='Enter password'value={userInfo.password} />\r\n\r\n</Card>\r\n\r\n</Column>\r\n        }\r\n\r\n      </Row>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}